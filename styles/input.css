@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base: readable text and selection */
@layer base {
  html {
    @apply scroll-smooth;
  }
  body {
    @apply antialiased;
  }
  ::selection {
    @apply bg-teal-200 dark:bg-teal-800/80 text-slate-900 dark:text-slate-100;
  }
}

/* Prose and links */
a {
  @apply text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 hover:underline transition-colors duration-150;
}
.prose a {
  @apply text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 hover:underline;
}

/* Code blocks: light/dark via .dark class (class-based dark mode) */
pre {
  @apply p-4 rounded-xl overflow-x-auto border border-slate-200 dark:border-slate-600;
}
pre,
.prose pre {
  background-color: #f1f5f9;
  color: #0f172a;
}
.dark pre,
.dark .prose pre {
  background-color: #1e293b;
  color: #f1f5f9;
  border-color: #334155;
}

/* Book content: optimal reading width when no sidebar (e.g. narrow viewports) */
.prose {
  @apply max-w-reading;
}
.prose.max-w-none {
  max-width: none;
}

/* Sidebar scrollbar (webkit) */
.overflow-y-auto {
  scrollbar-width: thin;
  scrollbar-color: theme('colors.slate.300') transparent;
}
.dark .overflow-y-auto {
  scrollbar-color: theme('colors.slate.600') transparent;
}
.overflow-y-auto::-webkit-scrollbar {
  width: 6px;
}
.overflow-y-auto::-webkit-scrollbar-track {
  background: transparent;
}
.overflow-y-auto::-webkit-scrollbar-thumb {
  @apply bg-slate-300 dark:bg-slate-600 rounded-full;
}
.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  @apply bg-slate-400 dark:bg-slate-500;
}

/* Safe area for notched devices */
.safe-area-padding {
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
}
